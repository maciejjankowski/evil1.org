<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title | default: site.title }}</title>
    <meta name="description" content="{{ page.description | default: site.description }}">
    
    {% if page.theme == 'blue' %}
        <link rel="stylesheet" href="{{ '/assets/css/blue-theme.css' | relative_url }}">
    {% elsif page.theme == 'red' %}
        <link rel="stylesheet" href="{{ '/assets/css/red-theme.css' | relative_url }}">
        <script src="https://unpkg.com/htmx.org@1.9.10" integrity="sha384-D1Kt99CQMDuVetoL1lrYwg5t+9QdHe7NLX/SoJYkXDFfX37iInKRy5xLSi8nO7UC" crossorigin="anonymous"></script>
    {% else %}
        <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">
    {% endif %}
    
    <!-- SEO and structured data -->
    <meta property="og:title" content="{{ page.title | default: site.title }}">
    <meta property="og:description" content="{{ page.description | default: site.description }}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ page.url | absolute_url }}">
    
    <!-- Security headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://unpkg.com; style-src 'self' 'unsafe-inline'; img-src 'self' data:;">
</head>
<body>
    {% include header.html %}
    
    {% if page.theme == 'red' %}
        <div class="flames"></div>
    {% endif %}
    
    {{ content }}
    
    {% include footer.html %}
</body>
</html>
