<!-- Copy Protection DLC Dark Pattern Widget -->
<div class="copy-protection-widget" id="copyProtectionWidget">
  <div class="protection-overlay hidden" id="copyOverlay">
    <div class="protection-modal">
      <div class="modal-header">
        <h3>ðŸš« Copy Protection Active</h3>
        <button onclick="closeCopyModal()" class="close-btn">&times;</button>
      </div>
      
      <div class="modal-content">
        <div class="dlc-branding">
          <h4>ðŸ’° Premium Copy Feature Required</h4>
          <p>To copy text content, upgrade to our <strong>Text Liberation Pack</strong>!</p>
        </div>
        
        <div class="pricing-tiers">
          <div class="pricing-option basic">
            <h5>Basic Copy</h5>
            <div class="price">$5<span>/month</span></div>
            <ul>
              <li>Copy up to 100 words/day</li>
              <li>Watermarked copies</li>
              <li>3-second copy delay</li>
            </ul>
            <button class="btn btn-secondary" onclick="selectCopyTier('basic')">
              Unlock Basic Copy
            </button>
          </div>
          
          <div class="pricing-option premium featured">
            <div class="popular-badge">Most Popular</div>
            <h5>Premium Copy</h5>
            <div class="price">$15<span>/month</span></div>
            <ul>
              <li>Unlimited copying</li>
              <li>Clean text (no watermarks)</li>
              <li>Instant copy access</li>
              <li>Right-click protection bypass</li>
            </ul>
            <button class="btn btn-primary" onclick="selectCopyTier('premium')">
              Unlock Premium Copy
            </button>
          </div>
          
          <div class="pricing-option ultimate">
            <h5>Copy Overlord</h5>
            <div class="price">$50<span>/month</span></div>
            <ul>
              <li>Everything in Premium</li>
              <li>Copy from other websites too</li>
              <li>AI text enhancement</li>
              <li>Share copied text directly</li>
            </ul>
            <button class="btn btn-primary" onclick="selectCopyTier('ultimate')">
              Become Copy Overlord
            </button>
          </div>
        </div>
        
        <div class="alternative-options">
          <h4>Alternative Options</h4>
          <div class="alternatives">
            <button class="btn-alt" onclick="watchAdForCopy()">
              ðŸ“º Watch 30s Ad for 1 Copy
            </button>
            <button class="btn-alt" onclick="shareForCopy()">
              ðŸ“¢ Share on Social for 3 Copies
            </button>
            <button class="btn-alt" onclick="inviteForCopy()">
              ðŸ‘¥ Invite Friend for 10 Copies
            </button>
          </div>
        </div>
        
        <div class="dark-pattern-education">
          <details>
            <summary>ðŸŽ­ Dark Pattern Alert</summary>
            <p><strong>Educational Notice:</strong> This demonstrates how modern apps monetize basic functionality. Many mobile games, productivity apps, and content platforms now charge for features that were once free, creating artificial scarcity around digital actions.</p>
            <ul>
              <li><strong>Freemium Restriction:</strong> Limiting basic functionality to drive upgrades</li>
              <li><strong>Tiered Manipulation:</strong> Making middle option look "reasonable"</li>
              <li><strong>Alternative Currencies:</strong> Trading attention/data for access</li>
              <li><strong>Addiction Mechanics:</strong> Daily limits create artificial scarcity</li>
            </ul>
          </details>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
.copy-protection-widget {
  position: relative;
}

.protection-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

.protection-overlay.hidden {
  display: none;
}

.protection-modal {
  background: white;
  border-radius: 12px;
  max-width: 800px;
  width: 100%;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
  border-bottom: 1px solid #eee;
  background: linear-gradient(135deg, #ff6b6b, #ee5a24);
  color: white;
  border-radius: 12px 12px 0 0;
}

.modal-header h3 {
  margin: 0;
  font-size: 1.5rem;
}

.close-btn {
  background: none;
  border: none;
  color: white;
  font-size: 2rem;
  cursor: pointer;
  padding: 0;
  width: 30px;
  height: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-content {
  padding: 20px;
}

.dlc-branding {
  text-align: center;
  margin-bottom: 30px;
  padding: 20px;
  background: linear-gradient(135deg, #ffeaa7, #fdcb6e);
  border-radius: 8px;
}

.dlc-branding h4 {
  margin: 0 0 10px 0;
  color: #2d3436;
  font-size: 1.3rem;
}

.pricing-tiers {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
  margin-bottom: 30px;
}

.pricing-option {
  border: 2px solid #ddd;
  border-radius: 8px;
  padding: 20px;
  text-align: center;
  position: relative;
  background: white;
}

.pricing-option.featured {
  border-color: #00b894;
  transform: scale(1.05);
  box-shadow: 0 5px 15px rgba(0, 184, 148, 0.3);
}

.popular-badge {
  position: absolute;
  top: -10px;
  left: 50%;
  transform: translateX(-50%);
  background: #00b894;
  color: white;
  padding: 5px 15px;
  border-radius: 20px;
  font-size: 0.8rem;
  font-weight: bold;
}

.pricing-option h5 {
  margin: 0 0 10px 0;
  color: #2d3436;
}

.price {
  font-size: 1.8rem;
  font-weight: bold;
  color: #e17055;
  margin-bottom: 15px;
}

.price span {
  font-size: 0.9rem;
  color: #636e72;
}

.pricing-option ul {
  list-style: none;
  padding: 0;
  margin: 0 0 20px 0;
  text-align: left;
}

.pricing-option li {
  padding: 5px 0;
  border-bottom: 1px solid #f0f0f0;
  position: relative;
  padding-left: 20px;
}

.pricing-option li:before {
  content: "âœ“";
  position: absolute;
  left: 0;
  color: #00b894;
  font-weight: bold;
}

.btn {
  background: #0984e3;
  color: white;
  border: none;
  padding: 12px 20px;
  border-radius: 6px;
  cursor: pointer;
  font-weight: bold;
  width: 100%;
  transition: background 0.3s;
}

.btn:hover {
  background: #074a7e;
}

.btn-primary {
  background: #00b894;
}

.btn-primary:hover {
  background: #00a085;
}

.btn-secondary {
  background: #636e72;
}

.btn-secondary:hover {
  background: #2d3436;
}

.alternative-options {
  border-top: 1px solid #eee;
  padding-top: 20px;
  margin-bottom: 20px;
}

.alternative-options h4 {
  text-align: center;
  margin-bottom: 15px;
  color: #2d3436;
}

.alternatives {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
}

.btn-alt {
  background: #6c5ce7;
  color: white;
  border: none;
  padding: 8px 15px;
  border-radius: 20px;
  cursor: pointer;
  font-size: 0.9rem;
  transition: background 0.3s;
}

.btn-alt:hover {
  background: #5f3dc4;
}

.dark-pattern-education {
  background: #fff3cd;
  border: 1px solid #ffeaa7;
  border-radius: 8px;
  padding: 15px;
}

.dark-pattern-education summary {
  cursor: pointer;
  font-weight: bold;
  color: #856404;
  margin-bottom: 10px;
}

.dark-pattern-education ul {
  margin: 10px 0 0 20px;
}

.dark-pattern-education li {
  margin-bottom: 5px;
  font-size: 0.9rem;
}

/* Responsive */
@media (max-width: 768px) {
  .pricing-tiers {
    grid-template-columns: 1fr;
  }
  
  .pricing-option.featured {
    transform: none;
  }
  
  .alternatives {
    flex-direction: column;
  }
}

/* Text selection blocking styles */
.copy-protected {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: transparent;
}

.copy-protected::selection {
  background: #ffeb3b;
  color: #000;
}

.copy-protected::-moz-selection {
  background: #ffeb3b;
  color: #000;
}
</style>

<script>
// Copy Protection System
class CopyProtectionSystem {
  constructor() {
    this.isActive = true;
    this.freeCopiesToday = 0;
    this.maxFreeCopies = 0; // Start with 0 free copies
    this.userTier = localStorage.getItem('copyTier') || 'none';
    this.initProtection();
    this.trackCopyAttempts();
  }
  
  initProtection() {
    // Disable right-click context menu
    document.addEventListener('contextmenu', (e) => {
      if (this.isActive && this.userTier === 'none') {
        e.preventDefault();
        this.showCopyModal();
      }
    });
    
    // Disable text selection and copy shortcuts
    document.addEventListener('keydown', (e) => {
      if (this.isActive && this.userTier === 'none') {
        // Disable Ctrl+C, Ctrl+A, Ctrl+S, etc.
        if (e.ctrlKey && (e.key === 'c' || e.key === 'a' || e.key === 's' || e.key === 'p')) {
          e.preventDefault();
          this.showCopyModal();
        }
        
        // Disable F12, Ctrl+Shift+I (Dev Tools)
        if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && e.key === 'I')) {
          e.preventDefault();
          this.showCopyModal();
        }
      }
    });
    
    // Add copy protection class to main content
    const contentElements = document.querySelectorAll('article, .post-content, main, .content');
    contentElements.forEach(el => {
      if (this.userTier === 'none') {
        el.classList.add('copy-protected');
      }
    });
  }
  
  trackCopyAttempts() {
    // Track copy attempts via clipboard API
    document.addEventListener('copy', (e) => {
      if (this.isActive && this.userTier === 'none') {
        e.preventDefault();
        this.showCopyModal();
        
        // Track analytics
        if (window.trackGoal) {
          window.trackGoal('copy_blocked', {
            source: 'copy_protection',
            tier: this.userTier
          });
        }
      }
    });
  }
  
  showCopyModal() {
    document.getElementById('copyOverlay').classList.remove('hidden');
    document.body.style.overflow = 'hidden';
  }
  
  hideCopyModal() {
    document.getElementById('copyOverlay').classList.add('hidden');
    document.body.style.overflow = '';
  }
}

function closeCopyModal() {
  const copySystem = window.copyProtectionSystem;
  if (copySystem) {
    copySystem.hideCopyModal();
  }
}

function selectCopyTier(tier) {
  // Store tier selection
  localStorage.setItem('copyTier', tier);
  
  // Track conversion
  if (window.trackGoal) {
    window.trackGoal('copy_tier_selected', {
      tier: tier,
      price: tier === 'basic' ? 5 : tier === 'premium' ? 15 : 50
    });
  }
  
  // Redirect to subscription page with tier
  window.location.href = `/subscribe/?tier=copy-${tier}&feature=copy-protection`;
}

function watchAdForCopy() {
  // Simulate ad watching experience
  const adModal = document.createElement('div');
  adModal.innerHTML = `
    <div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 10000; display: flex; align-items: center; justify-content: center;">
      <div style="background: white; padding: 30px; border-radius: 12px; text-align: center; max-width: 400px;">
        <h3>ðŸ“º Advertisement</h3>
        <div style="background: #f0f0f0; height: 200px; display: flex; align-items: center; justify-content: center; margin: 20px 0; border-radius: 8px;">
          <p style="font-size: 18px; color: #666;">ðŸŽ¬ Generic Mobile Game Ad</p>
        </div>
        <div>Watch time: <span id="adTimer">30</span> seconds</div>
        <p style="font-size: 12px; color: #666; margin-top: 10px;">This simulates how apps monetize through forced advertising</p>
      </div>
    </div>
  `;
  
  document.body.appendChild(adModal);
  
  let countdown = 30;
  const timer = setInterval(() => {
    countdown--;
    document.getElementById('adTimer').textContent = countdown;
    
    if (countdown <= 0) {
      clearInterval(timer);
      document.body.removeChild(adModal);
      alert('ðŸŽ‰ You earned 1 copy! (This would unlock copying for 1 selection)');
      closeCopyModal();
    }
  }, 1000);
  
  if (window.trackGoal) {
    window.trackGoal('copy_ad_watched', { feature: 'copy_protection' });
  }
}

function shareForCopy() {
  if (navigator.share) {
    navigator.share({
      title: 'I just discovered how apps monetize basic features!',
      text: 'Check out this satirical demo of copy protection paywalls - it\'s exactly how modern apps work!',
      url: window.location.href
    }).then(() => {
      alert('ðŸŽ‰ Thanks for sharing! You earned 3 copies!');
      closeCopyModal();
    });
  } else {
    // Fallback
    const shareText = `I just discovered how apps monetize basic features! Check out this satirical demo: ${window.location.href}`;
    navigator.clipboard.writeText(shareText).then(() => {
      alert('ðŸŽ‰ Share text copied to clipboard! Paste it anywhere to earn 3 copies!');
      closeCopyModal();
    });
  }
  
  if (window.trackGoal) {
    window.trackGoal('copy_social_share', { feature: 'copy_protection' });
  }
}

function inviteForCopy() {
  const email = prompt('Enter your friend\'s email to invite them:');
  if (email && email.includes('@')) {
    alert(`ðŸŽ‰ Invitation sent to ${email}! You earned 10 copies!`);
    closeCopyModal();
    
    if (window.trackGoal) {
      window.trackGoal('copy_friend_invite', { feature: 'copy_protection' });
    }
  }
}

// Initialize copy protection when page loads
document.addEventListener('DOMContentLoaded', function() {
  window.copyProtectionSystem = new CopyProtectionSystem();
});

// Console warning for developers
console.warn('ðŸš« Copy Protection Active! This is a satirical demonstration of how modern apps monetize basic functionality. In reality, this is anti-user and anti-web. We\'re showing it to educate about dark patterns.');
</script>